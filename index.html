<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Magic - Sword - Bow</title>
</head>

<body>
    <script>
        //Function that determines the computer's move.
        function computerPlay() {
            let randomNumber = Math.floor(Math.random() * 3) + 1;
            let computerMove = "";
            if (randomNumber === 1) {
                return computerMove = "magic";
            } else if (randomNumber === 2) {
                return computerMove = "sword";
            } else {
                return computerMove = "bow"
            }
        }
        //Function that determines who wins the round.
        function playRound(playerSelection, computerSelection) {
            playerSelection = playerSelection.toLowerCase();
            switch (true) {
                case (playerSelection === computerSelection):
                    return "It's a tie! Try again.";
                    break;
                case playerSelection === "magic":
                    if (computerSelection === "sword") {
                        return "You win! Magic beats sword.";
                    } else {
                        return "You lose! Bow beats magic.";
                    }
                    break;
                case playerSelection === "sword":
                    if (computerSelection === "magic") {
                        return "You lose! Magic beats sword.";
                    } else {
                        return "You win! Sword beats bow.";
                    }
                    break;
                case playerSelection === "bow":
                    if (computerSelection === "magic") {
                        return "You win! Bow beats magic.";
                    } else {
                        return "You lose! Sword beats bow.";
                    }
            }

        }
        //Function to play a 5 round game.
        function game() {
            let playerMove = "";
            let result = "";
            let computerLives = 5;
            let playerLives = 5;
            for (let i = 1; i <= 5; i++) {
                playerMove = prompt("What's your next move?")
                result = playRound(playerMove, computerPlay());
                console.log(result);
                if (result.search("win") == 4) {
                    computerLives--;
                } else if (result.search("lose") == 4) {
                    playerLives--;
                }
            }
            if (playerLives === computerLives) {
                return "It's a tie. Please try again!";
            } else if (playerLives === 0) {
                return "You lost the game.";
            } else if (computerLives === 0) {
                return "You won the game!";
            } else if (playerLives > computerLives) {
                return "You won the game!";
            } else {
                return "You lost the game";
            }

        }

    </script>
</body>

</html>